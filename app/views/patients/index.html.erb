<!-- app/views/patients/index.html.erb -->

<h1 class="display-6 fw-semibold mb-4">Patients</h1>

<div class="mb-3">
  <%= link_to "New patient", new_patient_path, class: "btn btn-primary" %>
</div>

<% if @patients.any? %>
  <div class="card">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead class="table-light">
          <tr>
            <th>Name</th>
            <th>DOB</th>
            <th>Medicare</th>
            <th class="text-end">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @patients.each do |p| %>
            <tr>
              <td><%= "#{p.first_name} #{p.last_name}" %></td>
              <td><%= p.date_of_birth %></td>
              <td><%= p.medicare_number %></td>
              <td class="text-end">
                <%= link_to "Show", p, class: "btn btn-primary btn-sm me-2" %>
                <%= link_to "Edit", edit_patient_path(p), class: "btn btn-outline-secondary btn-sm me-2" %>
                <%= button_to "Delete", p,
                method: :delete,
                data: { turbo_confirm: "Delete this patient?" },
                form: { class: "d-inline" },
                class: "btn btn-danger btn-sm" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
<% else %>
  <p class="text-muted">No patients found.</p>
<% end %>
